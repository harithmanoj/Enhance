name: ExampleCompile

on:
  pull_request:
    branches: 
      - master
      - develop
  push:
    branches:
      - master
      - develop

jobs:
  ConcurrencyExamples:
    runs-on: windows-latest

    steps:
    
    - uses: actions/checkout@v2

    - name: mkdir build
      run: mkdir build

    - name: generate QueuedHandler example
      working-directory: ./build
      run: cmake -S .. -B . -DENABLE_EXAMPLE=ON -DCONCURRENCY_EX_TEST=ON

    - name: compile QueuedHandler example
      working-directory: ./build
      run: cmake --build .

  GenericUtilityExamples:
    runs-on: windows-latest

    steps:
    
    - uses: actions/checkout@v2
    
    - name: generate GenericUtility example
      working-directory: ./build
      run: cmake -S .. -B . -DENABLE_EXAMPLE=ON -DGENERIC_EX_TEST=ON

    - name: compile GenericUtility example
      working-directory: ./build
      run: cmake --build .
    
  DateTimeExamples:
    runs-on: windows-latest

    steps:
    
    - uses: actions/checkout@v2
    
    - name: generate Date Time  example
      working-directory: ./build
      run: cmake -S .. -B . -DENABLE_EXAMPLE=ON -DDATE_TIME_EX_TEST=ON

    - name: compile Date Time  example
      working-directory: ./build
      run: cmake --build .
 

  ErrorHandlerExamples:
    runs-on: windows-latest

    steps:
    
    - uses: actions/checkout@v2
    
    - name: generate Error Handler  example
      working-directory: ./build
      run: cmake -S .. -B . -DENABLE_EXAMPLE=ON -DERROR_EX_TEST=ON

    - name: compile Error Handler  example
      working-directory: ./build
      run: cmake --build .


  DiagnosticExamples:
    runs-on: windows-latest

    steps:
    
    - uses: actions/checkout@v2
    
    - name: generate Diagnostic (logging)  example
      working-directory: ./build
      run: cmake -S .. -B . -DENABLE_EXAMPLE=ON -DDIAGNOSTIC_EX_TEST=ON

    - name: compile Diagnostic (logging)  example
      working-directory: ./build
      run: cmake --build .
