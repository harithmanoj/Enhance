name: ExampleCompile

on:
  pull_request:
    branches: 
      - master
      - develop
  push:
    branches:
      - master
      - develop

jobs:
  ConcurrencyExamples:
    runs-on: windows-latest

    steps:
    
    - uses: actions/checkout@v2

    - name: Enable Developer Command Prompt
      uses: ilammy/msvc-dev-cmd@v1.5.0
    
    - name: compile QueuedHandler example
      working-directory: ./documentation/examples
      run: compile QueuedHandler.ex.cpp

  GenericUtilityExamples:
    runs-on: windows-latest

    steps:
    
    - uses: actions/checkout@v2

    - name: Enable Developer Command Prompt
      uses: ilammy/msvc-dev-cmd@v1.5.0
    
    - name: compile ConfinedValue example
      working-directory: ./documentation/examples
      run: compile ConfinedValue.ex.cpp
    
    - name: compile ConfinedValue example
      working-directory: ./documentation/examples
      run: compile VersionInfo.ex.cpp
    
  DateTimeExamples:
    runs-on: windows-latest

    steps:
    
    - uses: actions/checkout@v2

    - name: Enable Developer Command Prompt
      uses: ilammy/msvc-dev-cmd@v1.5.0
    
    - name: compile Counter example
      working-directory: ./documentation/examples
      run: compile Counter.ex.cpp
    
    - name: compile Date example
      working-directory: ./documentation/examples
      run: compile Date.ex.cpp

    - name: compile DateTime example
      working-directory: ./documentation/examples
      run: compile DateTime.ex.cpp

    - name: compile TimeStamp example
      working-directory: ./documentation/examples
      run: compile TimeStamp.ex.cpp

    - name: compile Timer example
      working-directory: ./documentation/examples
      run: compile Timer.ex.cpp
 

  ErrorHandlerExamples:
    runs-on: windows-latest

    steps:
    
    - uses: actions/checkout@v2

    - name: Enable Developer Command Prompt
      uses: ilammy/msvc-dev-cmd@v1.5.0
    
    - name: compile ErrorTracker example
      working-directory: ./documentation/examples
      run: compile ErrorTracker.ex.cpp
    
    - name: compile Tristate example
      working-directory: ./documentation/examples
      run: compile Tristate.ex.cpp


  DiagnosticExamples:
    runs-on: windows-latest

    steps:
    
    - uses: actions/checkout@v2

    - name: Enable Developer Command Prompt
      uses: ilammy/msvc-dev-cmd@v1.5.0
    
    - name: compile Debug Logger example
      working-directory: ./documentation/examples
      run: compile logger.dbg.ex.cpp

    - name: compile Not Debug Logger example
      working-directory: ./documentation/examples
      run: compile logger.ndbg.ex.cpp
